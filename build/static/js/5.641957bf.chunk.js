(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[5],{1135:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(85),l=a(101),o=a(0),i=a.n(o),c=a(5),s=a(39),m=a(84),d=a(455),u=a(74),p=a(41),b=a(1038),f=a(1028),g=a(1026),h=a(1027),E=a(106),y=a(29),v=a(152),j=a.n(v);var O=function(e){var t=e.data;return i.a.createElement("div",{className:"flex flex-1 items-center p-4 sm:p-24"},i.a.createElement("div",{style:{marginBottom:"auto"}},i.a.createElement(p.a,{animation:"transition.slideRightIn",delay:300},i.a.createElement(E.a,{className:"normal-case flex items-center sm:mb-12",component:y.a,role:"button",to:"/teams",color:"inherit"},i.a.createElement(f.a,{className:"text-20"},"arrow_back"),i.a.createElement("span",{className:"mx-4"},"Return")))),i.a.createElement("div",{className:"inline-block",style:{paddingLeft:"100px"}},t?i.a.createElement("img",{style:{height:100},alt:t.logo,src:t.logo}):""),i.a.createElement("div",{className:"p-24 inline-block"},i.a.createElement("h1",{style:{marginBottom:5}},t?t.name:""),i.a.createElement("div",{style:{marginBottom:5}},i.a.createElement("div",{className:"inline-block"},i.a.createElement(j.a,{style:{fontSize:"20",color:"#55e7b5"}}," You")),i.a.createElement("div",{className:"inline-block"},i.a.createElement("p",null,t?t.city:"",", ",t?t.country:""))),i.a.createElement("div",{className:"inline-block"},i.a.createElement("span",null,"Total members : ")," ",i.a.createElement("span",{style:{color:"#55e7b5"}},t?t.members_confirmed.length:""))))},k=a(1066),x=a(1050),C=a(1054),N=a(1051),M=(a(99),a(12)),S=a(982),R=a(1023),z=a(1),w=a(4),I=(a(3),a(2)),W=a(7),L=o.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,l=e.disableTypography,i=void 0!==l&&l,c=Object(w.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(z.a)({className:Object(I.a)(n.root,r),ref:t},c),i?a:o.createElement(E.a,{component:"h2",variant:"h6"},a))})),A=Object(W.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(L),P=a(987),T=a(988),_=a(103),F=o.forwardRef((function(e,t){var a=e.classes,n=e.className,r=Object(w.a)(e,["classes","className"]),l=o.useContext(_.a);return o.createElement("div",Object(z.a)({className:Object(I.a)(a.root,n,"flex-start"===l.alignItems&&a.alignItemsFlexStart),ref:t},r))})),$=Object(W.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(F),B=a(1067),D=a(1040),H=a(15),Y=a(181),q=a(46),U=Object(q.a)(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),V=Object(q.a)(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),J=Object(q.a)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Z=Object(q.a)(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),K=Object(q.a)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),G=a(10),Q={success:o.createElement(U,{fontSize:"inherit"}),warning:o.createElement(V,{fontSize:"inherit"}),error:o.createElement(J,{fontSize:"inherit"}),info:o.createElement(Z,{fontSize:"inherit"})},X=o.createElement(K,{fontSize:"small"}),ee=o.forwardRef((function(e,t){var a=e.action,n=e.children,r=e.classes,l=e.className,i=e.closeText,c=void 0===i?"Close":i,s=e.color,m=e.icon,d=e.iconMapping,u=void 0===d?Q:d,p=e.onClose,b=e.role,f=void 0===b?"alert":b,g=e.severity,h=void 0===g?"success":g,E=e.variant,y=void 0===E?"standard":E,v=Object(w.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return o.createElement(Y.a,Object(z.a)({role:f,square:!0,elevation:0,className:Object(I.a)(r.root,r["".concat(y).concat(Object(G.a)(s||h))],l),ref:t},v),!1!==m?o.createElement("div",{className:r.icon},m||u[h]||Q[h]):null,o.createElement("div",{className:r.message},n),null!=a?o.createElement("div",{className:r.action},a):null,null==a&&p?o.createElement("div",{className:r.action},o.createElement(S.a,{size:"small","aria-label":c,title:c,color:"inherit",onClick:p},X)):null)})),te=Object(W.a)((function(e){var t="light"===e.palette.type?H.a:H.e,a="light"===e.palette.type?H.e:H.a;return{root:Object(z.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:a(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:a(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:a(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:a(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(ee),ae=Object(g.a)((function(e){return{avatarYes:{backgroundColor:"primary",color:e.palette.secondary.main},avatarNo:{backgroundColor:"primary",color:e.status.danger},toaster:{position:"absolute",right:12,bottom:90,zIndex:99}}}));function ne(e){return i.a.createElement(te,Object.assign({elevation:6,variant:"filled"},e))}var re=function(e){Object(k.a)("MyprofilePage").t;var t=ae(),a=Object(c.b)(),r=Object(s.h)(),l=Object(o.useState)(!1),m=Object(n.a)(l,2),d=m[0],p=m[1],b=Object(o.useState)(!1),g=Object(n.a)(b,2),E=g[0],y=g[1],v=e.currentPlayer,j=Object(c.c)((function(e){return e.teams.teams.oneTeam})),O=Object(c.c)((function(e){return e.auth.user})),x=Object(o.useState)(!1),C=Object(n.a)(x,2),N=C[0],M=C[1],z=Object(o.useState)(!1),w=Object(n.a)(z,2),I=(w[0],w[1],-1);j&&(I=j.members_confirmed.indexOf(O._id)),-1===I||N||M(!0),-1==I&&N&&M(!1);var W=function(){p(!0)},L=function(e){console.log(e),p(!1),y(!0);var t={teamID:r.teamId,userID:v._id,decision:e};setTimeout((function(){return a(Object(u.g)(t))}),3e3)};return i.a.createElement(i.a.Fragment,null,N&&"Pending"===e.status?i.a.createElement(S.a,{size:"small","aria-label":"edit",color:"secondary",onClick:W},i.a.createElement(f.a,null,"edit")):i.a.createElement(S.a,{size:"small",disabled:!0,"aria-label":"edit",color:"secondary",onClick:W},i.a.createElement(f.a,null,"edit")),i.a.createElement(R.a,{onClose:function(){p(!1)},"aria-labelledby":"simple-dialog-title",open:d},i.a.createElement(A,{id:"simple-dialog-title"},"Promotion options"),i.a.createElement(P.a,null,"Pending"===e.status?i.a.createElement("div",null,i.a.createElement(T.a,{autoFocus:!0,button:!0,onClick:function(){return L("accept")}},i.a.createElement($,null,i.a.createElement(B.a,{className:t.avatarYes},i.a.createElement(f.a,null,"check"))),i.a.createElement(D.a,{primary:"Accept player to join the team"})),i.a.createElement(T.a,{autoFocus:!0,button:!0,onClick:function(){return L("reject")}},i.a.createElement($,null,i.a.createElement(B.a,{className:t.avatarNo},i.a.createElement(f.a,null,"clear"))),i.a.createElement(D.a,{primary:"Reject player"}))):"")),i.a.createElement(h.a,{open:E,autoHideDuration:4e3,onClose:function(){y(!1)},className:t.toaster},i.a.createElement(ne,{severity:"success",style:{backgroundColor:"#55e7b5"}},"The player request has been handled !")))},le=Object(g.a)((function(e){return{layoutRoot:{},root:{maxWidth:400,minWidth:400}}}));var oe=function(e){Object(k.a)("MyprofilePage").t,le(e);var t=e.id,a=e.players.find((function(e){return e._id==t}));return M.a.isEmpty(a)?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",null),i.a.createElement("br",null),i.a.createElement("div",null,"Pending"==e.title?i.a.createElement("div",{style:{verticalAlign:"-10%",marginRight:"10px",display:"inline-block",backgroundColor:"orange",borderRadius:"50%",width:10,height:10,bottom:0}}):i.a.createElement("div",{style:{verticalAlign:"-10%",marginRight:"10px",display:"inline-block",backgroundColor:"#55e7b5",borderRadius:"50%",width:10,height:10,bottom:0}}),i.a.createElement("img",{src:a&&a.data.photoURL?a.data.photoURL:"/assets/images/avatars/max.jpg",alt:"avatar",style:{width:30,height:30,borderRadius:75,borderColor:"white",borderWidth:2,objectFit:"cover",display:"inline-block"}}),i.a.createElement("p",{style:{paddingLeft:"10px",display:"inline-block"}},i.a.createElement("b",null,a.f_name," ",a.l_name)),i.a.createElement("div",{className:"float-right"},i.a.createElement("p",{style:{fontSize:"12px",paddingRight:"20px",display:"inline-block"}},e.title),i.a.createElement(re,{currentPlayer:a,status:e.title}))),i.a.createElement("br",null))},ie=Object(g.a)((function(e){return{layoutRoot:{},root:{maxWidth:400,minWidth:400}}}));var ce=function(e){Object(k.a)("MyprofilePage").t;var t=ie(e),a=Object(c.b)(),n=Object(s.h)(),r=e.currentTeam.titles,l=e.currentTeam.members_pending,o=(Object(c.c)((function(e){return e.auth.user})),Object(c.c)((function(e){return e.teams.teams.teamPlayers})));if(Object(m.b)((function(){a(Object(u.e)(n))}),[o,a,n]),M.a.isEmpty(o))return null;var d=[];r.coach.length&&(d=r.coach.map((function(e,t){return i.a.createElement(oe,{key:t,title:"Coach",id:e,players:o})})));var p=[];r.key_player.length&&(p=r.key_player.map((function(e,t){return i.a.createElement(oe,{key:t,title:"Key player",id:e,players:o})})));var b=[];r.first_team.length&&(b=r.first_team.map((function(e,t){return i.a.createElement(oe,{key:t,title:"First team",id:e,players:o})})));var f=[];r.rotation.length&&(f=r.rotation.map((function(e,t){return i.a.createElement(oe,{key:t,title:"Rotation",id:e,players:o})})));var g=[];r.youngster.length&&(g=r.youngster.map((function(e,t){return i.a.createElement(oe,{key:t,title:"Youngster",id:e,players:o})})));var h=[];return l.length&&(h=l.map((function(e,t){return i.a.createElement(oe,{key:t,title:"Pending",id:e,players:o})}))),i.a.createElement(x.a,{className:t.root},i.a.createElement(C.a,{title:"Players"}),i.a.createElement(N.a,null,r.founder?i.a.createElement(oe,{title:"Founder",id:r.founder,players:o}):"",r.legend?i.a.createElement(oe,{title:"Legend",id:r.legend,players:o}):"",r.president?i.a.createElement(oe,{title:"President",id:r.president,players:o}):"",r.manager?i.a.createElement(oe,{title:"Manager",id:r.manager,players:o}):"",d,p,b,f,r.wonderkid?i.a.createElement(oe,{title:"Wonderkid",id:r.wonderkid,players:o}):"",g,h))},se=Object(g.a)((function(e){return{layoutRoot:{},root:{maxWidth:400,minWidth:400,top:0}}}));var me=function(e){Object(k.a)("MyprofilePage").t;var t=se(e);return Object(c.c)((function(e){return e.auth.user})),i.a.createElement(x.a,{className:t.root},i.a.createElement(C.a,{title:"Stats"}),i.a.createElement(N.a,null,"Team statistics"))},de=Object(g.a)((function(e){return{layoutRoot:{},root:{maxWidth:400,minWidth:400}}}));var ue=function(e){Object(k.a)("MyprofilePage").t;var t=de(e);return Object(c.c)((function(e){return e.auth.user})),i.a.createElement(x.a,{className:t.root},i.a.createElement(C.a,{title:"Chat"}),i.a.createElement(N.a,null,"Team chat between players"))},pe=a(1033);function be(e){return i.a.createElement(te,Object.assign({elevation:6,variant:"filled"},e))}var fe=Object(g.a)((function(e){return{addButton:{position:"absolute",right:12,top:40,zIndex:99},joinButton:{position:"absolute",right:12,top:53,zIndex:99},toaster:{position:"absolute",right:12,bottom:90,zIndex:99}}}));t.default=Object(l.a)("teams",d.a)((function(e){var t=fe(e),a=Object(c.b)(),l=Object(o.useRef)(null),d=Object(s.h)(),g=Object(o.useState)(!1),E=Object(n.a)(g,2),y=E[0],v=E[1],j=Object(o.useState)(!1),k=Object(n.a)(j,2),x=k[0],C=k[1],N=Object(o.useState)(!1),S=Object(n.a)(N,2),R=S[0],z=(S[1],Object(c.c)((function(e){return e.teams.teams.oneTeam}))),w=Object(c.c)((function(e){return e.auth.user})),I=-1;return z&&(I=z.members_confirmed.indexOf(w._id)),-1===I||x||C(!0),-1==I&&x&&C(!1),Object(m.b)((function(){a(Object(u.d)(d))}),[a,d]),M.a.isEmpty(z)?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{classes:{contentWrapper:"p-0 sm:p-12 h-full",content:"flex flex-col h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136",wrapper:"min-h-0"},header:i.a.createElement(O,{data:z,pageLayout:l}),content:i.a.createElement("div",null,i.a.createElement("div",{style:{padding:"12px",display:"inline-block",verticalAlign:"top"}},i.a.createElement(ce,{currentTeam:z,isUserPartOfTeam:x})),i.a.createElement("div",{style:{padding:"12px",display:"inline-block",verticalAlign:"top"}},i.a.createElement(me,null)),i.a.createElement("div",{style:{padding:"12px",display:"inline-block",verticalAlign:"top"}},i.a.createElement(ue,null))),sidebarInner:!0,ref:l,innerScroll:!0}),R?i.a.createElement(p.a,{animation:"transition.expandIn",delay:1e3},i.a.createElement(b.a,{color:"secondary","aria-label":"add",className:t.addButton,onClick:function(){console.log("Edit the team...")}},i.a.createElement(f.a,null,"edit"))):"",x?"":i.a.createElement(p.a,{animation:"transition.expandIn",delay:1e3},i.a.createElement(pe.a,{variant:"outlined",size:"small",color:"secondary",className:t.joinButton,onClick:function(){return function(){v(!0);var e={teamID:d.teamId,userID:w._id};a(Object(u.i)(e))}()}},"Ask to join team")),i.a.createElement(h.a,{open:y,autoHideDuration:4e3,onClose:function(){v(!1)},className:t.toaster},i.a.createElement(be,{severity:"success",style:{backgroundColor:"#55e7b5"}},"Your request has been recorded !")))}))}}]);